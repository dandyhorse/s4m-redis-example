# Доклад: Введение в Redis

## Немного о Redis (из Википедии)

``` 
Redis (от англ. remote dictionary server) — резидентная система управления базами данных класса NoSQL, 
работающая со структурами данных типа «ключ — значение».  

Используется как для баз данных, так и для реализации кэшей, брокеров сообщений.  

Ориентирована на достижение максимальной производительности на атомарных операциях 
(заявляется о приблизительно 100 тыс. SET- и GET-запросов в секунду на Linux-сервере начального уровня).  

Написана на С, интерфейсы доступа созданы для большинства основных языков программирования.
```

- **Создатель и история**: Redis был создан Сальваторе Санфилиппо (antirez) в 2009 году. Изначально задумывался как высокопроизводительный кэш, позже стал полноценной NoSQL-базой данных.  
- **Тип базы данных**: In-memory key-value store с возможностью персистентного хранения на диск (RDB и AOF).  
- **Архитектура**: Однопроцессный, однопоточный сервер с неблокирующими операциями ввода/вывода и асинхронным snapshot- или AOF-сохранением.  
- **Структуры данных**: Поддерживает строки, списки, множества, хэши, сортированные множества, битовые поля, геопространственные данные, HyperLogLog и потоки.  \
- **Производительность**: Обеспечивает высокую скорость операций (десятки сотен тысяч запросов в секунду на стандартном сервере Linux) благодаря хранению данных в памяти и оптимизированным алгоритмам.  
- **Языки доступа**: Поддержка большинства популярных языков программирования (Python, Java, JS, Go, Ruby и др.).  
- **Особенности**:  
  - Атомарность операций — каждая команда выполняется целиком.  
  - Поддержка TTL для ключей.  
  - Возможность snapshot- и лог-ориентированного хранения (RDB/AOF).  
  - Fork + Copy-On-Write для безопасного и быстрого создания снапшотов.  


## Что это значит для нас?

- **Redis** умеет хранить пары ключ-значение: `KEY -> VALUE`.
- **Redis** СКОРЕЕ ВСЕГО можно управлять из под вашего любимого ЯП.
- Лично я вообще не понимаю, причем тут обозначение **NoSQL**, т.к. Redis не имеет отношения к персистентному хранению данных, за исключением случаев, когда нам необходимо сохранить бэкап.

**Однако AI не согласен**, ну чтож:

```
Redis подходит под это определение, потому что:
- Это key-value store — нет таблиц, нет схемы.
- Можно хранить сложные структуры (списки, множества, хеши), но всё через ключи.
- Нет привычного SQL-языка запросов.
То есть с точки зрения модели данных — Redis действительно NoSQL.
```

## Наша скромная программа:

- **Строки (Strings)**: базовые значения, текст, JSON (`SET` / `GET`);
- **Битовые массивы (Bitmaps)**: побитовые операции (`SETBIT` / `GETBIT`);
- **Битовые поля (Bitfields)**: управление набором битов как числовыми полями (`BITFIELD`);
- **Хэши (Hashes)**: структуры вроде объектов (`HSET` / `HGETALL`);
- **Списки (Lists)**: очереди и стеки (`LPUSH` / `RPOP`);
- **Множества (Sets)**: уникальные коллекции (`SADD` / `SMEMBERS`);
- **Сортированные Множества (Sorted Sets / ZSETs)**: уникальные элементы с оценкой (score) (`ZADD` / `ZRANGE` / `ZINCRBY`);
- **Геопространственные данные (Geospatial)**: хранение координат и поиск по радиусу (`GEOADD` / `GEORADIUS`);
- **Структура HyperLogLog**: эффективное приближённое, подсчёты уникальных элементов (`PFADD` / `PFCOUNT`);
- **Потоки (Streams)**: последовательности событий с ID и метаданными (`XADD` / `XREAD` / `XGROUP`);
- **Webdis**: веб-интерфейс, уже написанный за вас;
- **Bull MQ**: очереди-очередюшечки, с, внимание, веб-интерфейсом (уже написанным за вас, офк);
- **Лучшие практики**: ключи, TTL и мониторинг;
- **ПИВО**: здесь надо выпить, 2-5 мин антракт, если устали;
- **Персистентность и базовая настройка**: RDB vs AOF, стратегии создания снепшотов (бекапов);
- **Примеры из проектов**: ОПЦИОНАЛЬНО
- - https://burger-king.by/ - Бургер Кинг РБ, архитектура, очереди
- - https://www.instagram.com/dishare_app/ - система рекомендаций 
- - https://alvexo.com/ - трейдинговая платформа


## Чего НЕ будет в докладе

- "Всех возможных" способов использования
- **Кластеризация**: масштабирование для продакшена. Я знаю, что вы тут такое любите, но не сегодня.
- Сравнительного анализа **TECHNOLOGY_NAME** vs **REDIS**:  а почему **USERNAME** из **COMPANY** выбирает **TECHNOLOGY** вместо **REDIS**

## ETA

я хз (!)

# Источники

https://alexkosarev.name/2024/10/22/redis-intro/ - **Redis: основные типы данных и операции**, Уголок сельского джависта

https://habr.com/ru/companies/vk/articles/711126/ - **Алгоритм HyperLogLog, или Оцениваем мощность множества за O(1)**, UngiftedPoet

https://habr.com/ru/companies/nixys/articles/765694/ - **Это база: нюансы работы с Redis. Часть 1** , Блог компании Nixys

https://habr.com/ru/companies/wunderfund/articles/685894/ - **Разбираемся с Redis**, Блог компании Wunder Fund

https://habr.com/ru/news/918280/ - **Работа над библиотекой управления памятью jemalloc прекращена...**, справочная информация

https://habr.com/ru/companies/mws/articles/750592/ - **Сто первое руководство по мониторингу метрик в Redis**, Блог компании MWS, Блог компании МТС